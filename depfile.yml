paths:
  - lib
layers:
  - name: RunScript
    collectors:
      - type: directory
        regex: bin\\.*
  - name: Anonymizer
    collectors:
      - type: directory
        regex: lib\\Anonymizer.php
  - name: AnonymizationProvider
    collectors:
      - type: className
        regex: PayU\\MysqlDumpAnonymizer\\AnonymizationProvider\\.*
  - name: ConfigReader
    collectors:
      - type: className
        regex: PayU\\MysqlDumpAnonymizer\\ConfigReader\\.*
  - name: ValueAnonymizers
    collectors:
      - type: className
        regex: PayU\\MysqlDumpAnonymizer\\ValueAnonymizers\\.*
  - name: ReadDump
    collectors:
      - type: className
        regex: PayU\\MysqlDumpAnonymizer\\ReadDump\\.*
  - name: WriteDump
    collectors:
      - type: className
        regex: PayU\\MysqlDumpAnonymizer\\WriteDump\\.*
ruleset:
  RunScript:
    - Anonymizer
  Anonymizer:
    - AnonymizationProvider
    - ReadDump
    - WriteDump
  ConfigReader:
    - ValueAnonymizers
    - AnonymizationProvider
  ValueAnonymizers: ~
# skip_violations:
#   PayU\MysqlDumpAnonymizer\AnonymizationProvider\ConfigReader\ValueAnonymizers\BankData:
#     - PayU\MysqlDumpAnonymizer\Entity\Value
#   PayU\MysqlDumpAnonymizer\AnonymizationProvider\ConfigReader\ValueAnonymizers\BinaryData:
#     - PayU\MysqlDumpAnonymizer\Entity\Value
#   PayU\MysqlDumpAnonymizer\AnonymizationProvider\ConfigReader\ValueAnonymizers\FreeText:
#     - PayU\MysqlDumpAnonymizer\Entity\Value



